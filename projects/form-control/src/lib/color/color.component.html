<label *ngIf="label !== undefined">
  {{label}}
  <span *ngIf="required === true">
    *
  </span>
</label>

<div class="dis-flex flex-stretch">
  <div class="dis-flex flex-center">
    <fc-color-icon
      type="square"
      [fill]="ngControl.control?.value"
    ></fc-color-icon>
  </div>
  <input
    [(ngModel)]="model"
    autocomplete="off"
    maxlength="6"
    class="flex-1"
    spellcheck="false"
    type="text"
    [class.active]="ngControl.control?.value !== null"
    [class.invalid]="ngControl.control?.invalid === true"
    [disabled]="isDisabled === true"
    (beforeinput)="onBeforeinput($event)"
    (blur)="onTouched()"
  />
  <ng-container *ngFor="let x of ['','','']; let idx = index">
    <fc-color-button
      class="dis-flex"
      title="Subtract {{display(idx)}}"
      [isDisabled]="isDisabledSubtract(idx)"
      (blurred)="onTouched()"
      (continuousClick)="subtract(idx)"
    >
      <fc-color-icon
        type="minus"
        [fill]="fill(idx)"
      ></fc-color-icon>
    </fc-color-button>
    <fc-color-button
      class="dis-flex"
      title="Add {{display(idx)}}"
      [isDisabled]="isDisabledAdd(idx)"
      (blurred)="onTouched()"
      (continuousClick)="add(idx)"
    >
      <fc-color-icon
        type="plus"
        [fill]="fill(idx)"
      ></fc-color-icon>
    </fc-color-button>
  </ng-container>
</div>

<ul *ngIf="ngControl.control?.errors !== null">
  <li *ngIf="ngControl.control?.errors.invalid !== undefined">
    invalid model
  </li>
</ul>
