<label>
  <ng-content></ng-content>
</label>

<div class="dis-flex flex-center">
  <fc-button
    [brRight]="brRight"
    [brLeft]="brLeft"
    [isActive]="ngControl.value !== null"
    [isDisabled]="isDisabled === true"
    (clicked)="fileInput.click()"
  >
    <icon
      type="folder"
      size="1em"
      [fill]="['F2A200', 'FFD575']"
      fillRotate
    ></icon>
    <span class="muted">
      &nbsp;Choose {{multiple ? 'Files' : 'File'}}
    </span>
  </fc-button>
  <div *ngIf="ngControl.value">
    &nbsp;&nbsp;{{fileNames}}
  </div>
</div>

<ul *ngIf="ngControl.control?.errors">
  <li *ngIf="ngControl.control?.errors?.acceptedTypes">
    valid types are {{acceptedTypes.join(', ')}}
  </li>
  <li *ngIf="ngControl.control?.errors?.sizeLimitMb">
    max file size is {{sizeLimit}}
  </li>
  <li *ngIf="ngControl.control?.errors?.invalid">
    invalid model
  </li>
</ul>

<input
  [(ngModel)]="model"
  #fileInput
  type="file"
  [accept]="acceptedTypes.join()"
  [multiple]="multiple"
  [id]="id"
  (change)="onFileChange($event)"
/>
