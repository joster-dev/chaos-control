<label>
  <ng-content></ng-content>
</label>

<div class="dis-flex flex-center">
  <div>
    <fc-button
      class="white-space-nowrap"
      [brRight]="brRight"
      [brLeft]="brLeft"
      [isActive]="ngControl.value !== null"
      [isDisabled]="isDisabled === true"
      (clicked)="fileInput.click()"
    >
      <icon
        type="folder"
        size="1em"
        [fillOpacity]="0"
        [stroke]="formControlService.bodyColor"
      ></icon>
      <span class="margin-left-1">
        Choose {{multiple ? 'Files' : 'File'}}
      </span>
    </fc-button>
  </div>
  <div
    *ngIf="ngControl.value"
    class="margin-left-1"
  >
    {{fileNames}}
  </div>
</div>

<ul *ngIf="ngControl.control?.errors">
  <li *ngIf="ngControl.control?.errors?.acceptedTypes">
    valid types are {{acceptedTypes.join(', ')}}
  </li>
  <li *ngIf="ngControl.control?.errors?.sizeLimitMb">
    max file size is {{sizeLimit}}
  </li>
  <li *ngIf="ngControl.control?.errors?.invalid">
    invalid model
  </li>
</ul>

<input
  [(ngModel)]="model"
  #fileInput
  type="file"
  [accept]="acceptedTypes.join()"
  [multiple]="multiple"
  [id]="id"
  (change)="onFileChange($event)"
/>