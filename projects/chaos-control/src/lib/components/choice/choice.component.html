<label>
  <ng-content></ng-content>
</label>

<div class="dis-flex flex-wrap">
  <jo-button
    *ngFor="let item of items; let idx = index"
    class="dis-flex"
    [isActive]="_model.includes(item.key)"
    [isDisabled]="isDisabled"
    [isValid]="!ngControl.control?.invalid"
    [borderRadiusRight]="borderRadiusRight && idx === items.length - 1"
    [borderRadiusLeft]="borderRadiusLeft && idx === 0"
    (onClick)="onClick(item)"
    (onBlur)="onTouched()"
  >
    <icon-stack
      size="1em"
      class="margin-right-1"
    >
      <icon [type]="isMultiple ? 'squircle' : 'circle'"></icon>
      <icon
        *ngIf="_model.includes(item.key)"
        [type]="isMultiple ? 'check' : 'dot'"
        [fill]="[null, 'current']"
        fillRotate="90"
      ></icon>
    </icon-stack>
    {{item.value}}
  </jo-button>
</div>

<ul *ngIf="ngControl.control?.errors">
  <li *ngIf="ngControl.control?.errors?.invalid">
    invalid model
  </li>
</ul>
