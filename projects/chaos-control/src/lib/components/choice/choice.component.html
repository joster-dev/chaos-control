<div class="d-flex justify-content-between">
  <label
    id="choice_{{id}}"
    [class.required]="required"
  >
    <ng-content></ng-content>
  </label>
  <div>
    <ng-content select="[rightAligned]"></ng-content>
  </div>
</div>

<div
  class="d-flex flex-wrap align-items-start"
  role="group"
  attr.aria-labelledby="choice_{{id}}"
  [class.flex-column]="isColumn"
>
  <button
    *ngFor="let item of items; let idx = index"
    class="d-flex align-items-center"
    role="menuitemcheckbox"
    [class.border-radius-right]="borderRadiusRight"
    [class.border-radius-left]="borderRadiusLeft"
    (click)="onClick(item)"
    (blur)="onTouched()"
  >
    <div
      class="button margin-right-1 {{isMultiple ? 'br-20' : 'br-50'}}"
      [class.active]="_model.includes(item.key)"
      [class.disabled]="isDisabled"
      [class.invalid]="ngControl.control?.invalid"
    >
      <icon
        *ngIf="_model.includes(item.key)"
        size="1em"
        [type]="isMultiple ? 'check' : 'dot'"
        [fill]="[null, 'current']"
        fillRotate="90"
      ></icon>
    </div>
    {{item.value}}
  </button>
</div>

<ul *ngIf="ngControl.control?.errors">
  <li *ngIf="ngControl.control?.errors?.['invalid']">
    invalid model
  </li>
</ul>
