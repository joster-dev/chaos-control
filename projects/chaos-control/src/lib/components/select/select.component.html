<label>
  <ng-content></ng-content>
</label>

<div class="d-flex align-items-stretch">
  <jo-text
    [borderRadiusLeft]="borderRadiusLeft"
    [borderRadiusRight]="false"
    [(ngModel)]="searchTerm"
    [isGrow]="false"
    class="flex-1"
    (onFocus)="onFocusSearch()"
  ></jo-text>
  <button
    class="d-flex"
    [disabled]="isDisabled"
    (click)="onClickSearch()"
  >
    <icon
      size="1em"
      type="chevron"
      [fill]="[null, 'current']"
      fillRotate="90"
      [stroke]="['current']"
    ></icon>
  </button>
</div>

<div
  class="drop {{isDropdownCloseToBottom ? 'up' : 'down'}}"
  [hidden]="!showDropdown"
  [style.max-height]="dropdownMaxHeight"
>
  <!-- <jo-button *ngIf="items.length === 0">
    No Results
  </jo-button> -->
  <button
    *ngFor="let item of items; let idx = index"
    class="d-flex"
    [class.active]="_model.includes(item.key)"
    [disabled]="isDisabled"
    [class.invalid]="!ngControl.control?.invalid"
    [class.border-radius-right]="borderRadiusRight && idx === items.length - 1"
    [class.border-radius-left]="borderRadiusLeft && idx === 0"
    (click)="onClick(item)"
    (blur)="onTouched()"
  >
    <icon-stack
      class="margin-right-1"
      size="1em"
    >
      <icon [type]="isMultiple ? 'squircle' : 'circle'"></icon>
      <icon
        *ngIf="_model.includes(item.key)"
        [type]="isMultiple ? 'check' : 'dot'"
        [fill]="[null, 'current']"
        fillRotate="90"
      ></icon>
    </icon-stack>
    {{item.value}}
  </button>
</div>